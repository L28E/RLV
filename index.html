<html>

<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Nick's Remote Viewfinder</title>
	<style>
		body {
			background: rgb(58, 58, 58);
			color: white;
			font-family: Arial, Helvetica, sans-serif;
			font-style: italic;
		}

		h1 {
			text-align: center;
		}

		img {
			max-width: 95%;
			height: auto;
			margin: 10px auto 20px;
			display: block;
		}

		section {
			display: flex;
		}

		.param_column {
			display: inline-block;
			margin: auto;
			text-align: center;
		}

		select {
			border-radius: 3%;
			width: 100%;
			border-color: white;
			background-color: white;
			font-style: italic;
		}

		.big {
			display: block;
			width: 100%;
			height: 80px;			
			margin: 10% 5%;
			border-radius: 3%;
			border-color: white;
			background-color: white;
			font-style: italic;
		}
	</style>
</head>

<body>
	<header>
		<h1>bleh</h1>
		<img src="./stream.mjpg">
	</header>

	<section>
		<!-- 
			In a perfect world, each of theses parameters would be obtained 
			from the camera, then mapped to the selects. But this is not 
			a perfect world.  
		-->
		<div class="param_column">
			<p>ISO</p>
			<select id="iso" onchange="changeISO()">
				<option value="Auto">Auto</option>
				<option value="100">100</option>
				<option value="200">200</option>
				<option value="400">400</option>
				<option value="800">800</option>
				<option value="1600">1600</option>
			</select>
		</div>

		<div class="param_column">
			<p>Aperture</p>
			<select id="aperture" onchange="changeAperture()">
				<option value="3.5">F3.5</option>
				<option value="4">F4</option>
				<option value="4.5">F4.5</option>
				<option value="5">F5</option>
				<option value="5.6">F5.6</option>
				<option value="6.3">F6.3</option>
				<option value="7.1">F7.1</option>
				<option value="8">F8</option>
				<option value="9">F9</option>
				<option value="10">F10</option>
				<option value="11">F11</option>
				<option value="13">F13</option>
				<option value="14">F14</option>
				<option value="16">F16</option>
				<option value="18">F18</option>
				<option value="20">F20</option>
				<option value="22">F22</option>
			</select>

		</div>

		<div class="param_column">
			<p>Shutter Speed</p>
			<select id="shutter" onchange="changeShutter()">
				<option value="bulb">Bulb</option>
				<option value="30">30</option>
				<option value="25">25</option>
				<option value="20">20</option>
				<option value="15">15</option>
				<option value="13">13</option>
				<option value="10">10</option>
				<option value="8">8</option>
				<option value="6">6</option>
				<option value="5">5</option>
				<option value="4">4</option>
				<option value="3.2">3.2</option>
				<option value="2.5">2.5</option>
				<option value="2">2</option>
				<option value="1.6">1.6</option>
				<option value="1.3">1.3</option>
				<option value="1">1</option>
				<option value="0.8">0.8</option>
				<option value="0.6">0.6</option>
				<option value="0.5">0.5</option>
				<option value="0.4">0.4</option>
				<option value="0.3">0.3</option>
				<option value="1/4">1/4</option>
				<option value="1/5">1/5</option>
				<option value="1/6">1/6</option>
				<option value="1/8">1/8</option>
				<option value="1/10">1/10</option>
				<option value="1/13">1/13</option>
				<option value="1/15">1/15</option>
				<option value="1/20">1/20</option>
				<option value="1/25">1/25</option>
				<option value="1/30">1/30</option>
				<option value="1/40">1/40</option>
				<option value="1/50">1/50</option>
				<option value="1/60">1/60</option>
				<option value="1/80">1/80</option>
				<option value="1/100">1/100</option>
				<option value="1/125">1/125</option>
				<option value="1/160">1/160</option>
				<option value="1/200">1/200</option>
				<option value="1/250">1/250</option>
				<option value="1/320">1/320</option>
				<option value="1/400">1/400</option>
				<option value="1/500">1/500</option>
				<option value="1/640">1/640</option>
				<option value="1/800">1/800</option>
				<option value="1/1000">1/1000</option>
				<option value="1/1250">1/1250</option>
				<option value="1/1600">1/1600</option>
				<option value="1/2000">1/2000</option>
				<option value="1/2500">1/2500</option>
				<option value="1/3200">1/3200</option>
				<option value="1/4000">1/4000</option>
			</select>
		</div>

		<div class="param_column">
			<p>Drive Mode</p>
			<select id="drive" onchange="changeDrive()">
				<option value="Single">Single</option>
				<option value="Timer 2 sec">Timer 2 sec</option>
				<option value="Timer 10 sec">Timer 10 sec</option>
			</select>
		</div>
	</section>

	<section>
		<button class="big">snap</button>
	</section>

	<script>
		var iso;
		var aperture;
		var shutter;
		var drive;

		function changeISO() {
			var temp = document.getElementById("iso").value;
			if (temp != iso) {
				iso = temp;
				const req = new XMLHttpRequest();
				req.open("POST", ".");
				req.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
				req.send("iso=" + iso);
			}
		}

		function changeAperture() {
			var temp = document.getElementById("aperture").value;
			if (temp != aperture) {
				aperture = temp;
				const req = new XMLHttpRequest();
				req.open("POST", ".");
				req.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
				req.send("aperture=" + aperture);
			}
		}

		function changeShutter() {
			var temp = document.getElementById("shutter").value;
			if (temp != shutter) {
				shutter = temp;
				const req = new XMLHttpRequest();
				req.open("POST", ".");
				req.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
				req.send("shutter=" + shutter);
			}
		}

		function changeDrive() {
			var temp = document.getElementById("drive").value;
			if (temp != drive) {
				drive = temp;
				const req = new XMLHttpRequest();
				req.open("POST", ".");
				req.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
				req.send("drivemode=" + drive);
			}
		}
	</script>
</body>