<html>

<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Nick's Remote Viewfinder</title>
	<style>
		body {
			background: rgb(58, 58, 58);
			color: white;
			font-family: Arial, Helvetica, sans-serif;
			font-style: italic;
		}

		h1 {
			text-align: center;
		}

		img {
			max-width: 90%;
			height: auto;
			margin: 10px auto 20px;
			display: block;
		}

		section {
			display: flex;
		}

		.param_column {
			display: inline-block;
			margin: auto;
		}

		select {
			border-radius: 7%;			
			border-color: white;
			background-color: white;
			font-style: italic;
		}
	</style>
</head>

<body>
	<header>
		<h1>bleh</h1>
		<img src="./stream.mjpg">
	</header>

	<section>
		<!-- 
			In a perfect world, each of theses parameters would be obtained 
			from the camera, then mapped to the selects. But this is not 
			a perfect world.  
		-->
		<div class="param_column">
			<p>ISO</p>
			<select id="iso" onchange="changeISO()">
				<option value="0">Auto</option>
				<option value="1">100</option>
				<option value="2">200</option>
				<option value="3">400</option>
				<option value="4">800</option>
				<option value="5">1600</option>
			</select>
		</div>

		<div class="param_column">
			<p>Aperture</p>
			<select id="aperture" onchange="changeAperture()">
				<option value="0">F3.5</option>
				<option value="1">F4</option>
				<option value="2">F4.5</option>
				<option value="3">F5</option>
				<option value="4">F5.6</option>
				<option value="5">F6.3</option>
				<option value="6">F7.1</option>
				<option value="7">F8</option>
				<option value="8">F9</option>
				<option value="9">F10</option>
				<option value="10">F11</option>
				<option value="11">F13</option>
				<option value="12">F14</option>
				<option value="13">F16</option>
				<option value="14">F18</option>
				<option value="15">F20</option>
				<option value="16">F22</option>
			</select>

		</div>

		<div class="param_column">
			<p>Shutter Speed</p>
			<select id="shutter" onchange="changeShutter()">
				<option value="0">bulb</option>
				<option value="1">30</option>
				<option value="2">25</option>
				<option value="3">20</option>
				<option value="4">15</option>
				<option value="5">13</option>
				<option value="6">10</option>
				<option value="7">8</option>
				<option value="8">6</option>
				<option value="9">5</option>
				<option value="10">4</option>
				<option value="11">3.2</option>
				<option value="12">2.5</option>
				<option value="13">2</option>
				<option value="14">1.6</option>
				<option value="15">1.3</option>
				<option value="16">1</option>
				<option value="17">0.8</option>
				<option value="18">0.6</option>
				<option value="19">0.5</option>
				<option value="20">0.4</option>
				<option value="21">0.3</option>
				<option value="22">1/4</option>
				<option value="23">1/5</option>
				<option value="24">1/6</option>
				<option value="25">1/8</option>
				<option value="26">1/10</option>
				<option value="27">1/13</option>
				<option value="28">1/15</option>
				<option value="29">1/20</option>
				<option value="30">1/25</option>
				<option value="31">1/30</option>
				<option value="32">1/40</option>
				<option value="33">1/50</option>
				<option value="34">1/60</option>
				<option value="35">1/80</option>
				<option value="36">1/100</option>
				<option value="37">1/125</option>
				<option value="38">1/160</option>
				<option value="39">1/200</option>
				<option value="40">1/250</option>
				<option value="41">1/320</option>
				<option value="42">1/400</option>
				<option value="43">1/500</option>
				<option value="44">1/640</option>
				<option value="45">1/800</option>
				<option value="46">1/1000</option>
				<option value="47">1/1250</option>
				<option value="48">1/1600</option>
				<option value="49">1/2000</option>
				<option value="50">1/2500</option>
				<option value="51">1/3200</option>
				<option value="52">1/4000</option>
			</select>
		</div>

		<div class="param_column">
			<button>snap</button>
		</div>
	</section>

	<script>
		var iso;
		var aperture;
		var shutter;


		function changeISO() {
			var temp = document.getElementById("iso").value;
			if (temp != iso) {
				iso = temp;
				const req = new XMLHttpRequest();
				req.open("POST", ".");
				req.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
				req.send("iso=" + iso);
			}
		}

		function changeAperture() {
			console.log(document.getElementById("aperture").value);
		}

		function changeShutter() {
			console.log(document.getElementById("shutter").value);
		}
	</script>
</body>